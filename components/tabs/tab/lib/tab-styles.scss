/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */

@use './tab';
@use 'third_party/javascript/material_web_components/icon/_mwc-icon.scss';
@use '@material/ripple';
@use '@material/rtl';

@include tab.core-styles();
@include ripple.common();

.material-icons {
  @extend %material-icons;
}

:host {
  outline: none;
  flex: 1 0 auto;
  display: flex;
  justify-content: center;
  -webkit-tap-highlight-color: transparent;
}

.md3-tab {
  height: var(--md-tab-height, #{tab.$height});
  margin-left: 0;
  margin-right: 0;
  @include tab.horizontal-padding(
    var(--md-tab-horizontal-padding, #{tab.$horizontal-padding})
  );
}

.md3-tab--stacked {
  height: var(--md-tab-stacked-height, #{tab.$stacked-height});
}

.md3-tab::-moz-focus-inner {
  border: 0;
}

/* Override mixin from md3-tab to select for dir="rtl" on host rather than ancestor. */
@mixin md3-rtl($root-selector: null) {
  @if ($root-selector) {
    @at-root {
      #{$root-selector}[dir='rtl'] &,
      [dir='rtl'] #{$root-selector} & {
        @content;
      }
    }
  } @else {
    :host([dir='rtl']) & {
      @content;
    }
  }
}

/* Declare rule from md3-tab again to pick up mixin override. */
.md3-tab:not(.md3-tab--stacked) .md3-tab__icon + .md3-tab__text-label {
  @include rtl.reflexive-box(padding, left, 8px);
}

.md3-tab:not(.md3-tab--active) {
  .md3-tab__text-label {
    color: var(
      --md-tab-text-label-color-default,
      #{tab.$text-label-color-default}
    );
  }

  .md3-tab__icon {
    color: var(--md-tab-color-default, #{tab.$icon-color-default});
  }
}
